<div style="text-align: center">
    <h1>АСИНХРОНЫЕ ФУНКЦИИ</h1>
</div>

<details>
    <summary>Библиотеки асинхронные</summary>
Корутина — это то, что возвращает функция с await. Чувствуете разницу между f и f()?

* aiohttp
* aiogram
* aiosqlite
* SQLAlchemy
* aiofiles
* [io_uring](https://habr.com/ru/articles/589389/) - люнекс
* aiologger

</details>

<details>
    <summary>Футура \ Задача</summary>

* Футура (если совсем упрощенно) — это оболочка для некой асинхронной сущности, позволяющая выполнять ее "как бы
  одновременно" с другими асинхронными сущностями, переключаясь от одной сущности к другой в точках, обозначенных
  ключевым словом await

* Кроме того футура имеет внутреннюю переменную "результат", которая доступна через .result() и устанавливается через
  .set_result(value). Пока ничего не надо делать с этим знанием, оно пригодится в дальнейшем.
*
* Задача — это частный случай футуры, предназначенный для оборачивания корутины.

### термины — корутины и задачи:

* корутину асинхронной функции fun1 обернули задачей task1

* корутину асинхронной функции fun2 обернули задачей task2

* в асинхронной функции main обозначили точку переключения к задаче task1

* в асинхронной функции main обозначили точку переключения к задаче task2

* корутину асинхронной функции main передали в функцию asyncio.run

* Бр-р-р, ужас какой... Воистину: "Во многой мудрости много печали; и кто умножает познания, умножает скорбь" (Еккл. 1:
  18)

```python
import asyncio


async def fun1(x):
    print(x ** 2)
    await asyncio.sleep(3)
    print('fun1 завершена')


async def fun2(x):
    print(x ** 0.5)
    await asyncio.sleep(3)
    print('fun2 завершена')


async def main():
    task1 = asyncio.create_task(fun1(4))
    task2 = asyncio.create_task(fun2(4))

    print(type(task1))
    print(task1.__class__.__bases__)

    await task1
    await task2


asyncio.run(main())
```

* В asyncio.run нужно передавать асинхронную функцию с эвейтами на задачи, а не на корутины. Иначе не взлетит. То есть
  работать-то будет, но сугубо последовательно, без всякой конкурентности.

</details>